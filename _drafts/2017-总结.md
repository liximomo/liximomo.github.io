---
title:  "2017 总结"
date:   2018-01-14 10:45:42 +0800
tags:  thoughts
layout: post
excerpt: >
  2017 总结。
---

## 团队
一年的时间流逝而去，前端从零散的个人变成了一个团队。伴随着这一转变的，是更多的责任和精力。

### 代码风格
一个团队如果编码风格不一致，带来的后果就是互相无法阅读和维护他人书写的代码，这对一个团队的生产力是致命的。为此我制定了一套编码规范，借助工具强制约束，确保整个团队一致的编码风格。但工具也有局限性，只能保证代码的风格一致性，像一些概念性东西，比如每个业务逻辑都应该写在单文件，且位于特定目录中，工具就无法提供帮助。而这些约定对于需要跨项目维护代码的单个团队是非常重要的。想象一下没有这些约定，让你离开 A 项目去维护 B 项目的一个 C 业务时，你单单要找到所有和 C 业务相关的代码就要耗费几个小时甚至几天。遗憾的是，这方面没有简单的解决方案。这需要团队全员的个人素质达到一个基准，然后通过不断进行约定灌输，逐渐积累，才能达成的一个目标。这是一场马拉松🏃‍‍。

### 项目管理
前端不同于 `iOS` 或 `Android` 开发，一个应用就一个入口。像览益股市这样页面众多的站点，每个页面都是一个入口点，对于通用的库文件，还需要有单独的入口点来打包，管理起来是一个是复杂的工作。对于页面间共享的模块，一个改动影响的就是 N 个页面，这是绝对要避免的。目前这些模块都是位于项目中的，理想上是将这些东西封装成单独的依赖包，排除到项目外，只有包作者可以修改，避免他人误改。同时还可将一些业务逻辑无关的模块给其他项目使用，一举俩得。这就是 2018 年的一个目标，搭建私有包服务器，使团队成员可以发布包到私有服务器上。这个又引出了另一个正在做的工作--包模板。现代前端开发环境各异，创建一个由公司技术栈组成，代码 lint，测试，开发体验友好，开发，测试，发布流程一致的环境也是必不可少的。对于目前项目的开发环境的封装成包也是目前正在进行，2018要完成的一个目标。目前新项目的开发都是借助辅助旧项目来达成建立开发环境的工作，这样做一个重要的弊端就是，更新了一个项目的开发环境，要手动同部到其他项目，这是个耗时且易出错的过程。解决方案就是将开发环境封装成工具，开箱即用，无缝升级。

## 生产力
生产力是核心，如何提高团队的生成力是我一直在思考的问题。

### 周五前端总结分享例会
会议的目的是使团队成员熟悉已有项目，促进成员交流，知识的流通。通过阅读他人的代码来提高自己，总结一周遇到的问题，共同探索解决方案。

### MOMOCK - Mock Server
期间有次需要准备 mock server 的会议，在之后实现了一个 mock server 用于前端快速开发的工具, 后续还实现了 apidoc 直接转换成 mock sever 定义的工具。开发效率没有大的提升，因为前端在开发期间已经对数据层做了隔离。到是在调试一些特殊情况时起到了很多帮助。

### MEOW - 运营页面管理工具

#### 问题

* 一个页面需要部署到多个服务器，手动的一个一个通过第三方工具拖动替换文件，耗时，易出错
* 同一个视图页面，往往需要部署到几个不同的域名上去，果断时间又需要反向通过域名找到页面修改页面进行更新，难以追踪
* 页面众多，难以管理
* 开发部署分离，耗时
* 页面与域名，绑定的统计等等信息都依靠个人管理，难以交接。

#### 结果
极大了提高了运营活动的效率，减少了出错率。

## 问题
整个开发团队还是没有达成一致的韵律，对于工具的使用还不到位，对接不能一步到位。举个例子，UI 和产品上传的东西都是在附件中，没有任务与之关联，然后在 qq 等通讯软件中通知。对于这种附件我需要打开 `浏览器->码云->附件->浏览查找` 4个步骤才能拿到附件，而通过任务与之关联，我接收到邮件通知，点一下鼠标就可以到达目标。就算不走任务，也可以在 qq 中告知 “xx 附件上传至 http://xxx.xx/x 中”， 而不是简单的 “附件已上传至码云“。

对需求后知后觉，往往都是开发前一天才召开一次需求会，如果这期间产品引入了一个新功能，之前没有相关经验的话，这是很危险的，最后为了敢进度完成了，完成度也不会很高。可以提前告知产品方向，以便提前有针对性的进行研究。

## 展望
拥有核心团队提供基础设施服务。拿业务上来，览益文章发布这一块，目前使用的是简单的富文本编辑器，这就相当于没有 ui 的前端，这会造成每个人编辑出来的文章风格不一致，缺乏基础美学，并且由于完全的富文本功能，导致不能通过外界来提供了一个一致性的基础排版。同类的内容发布平台基本采用使用定制的编辑器来限制一篇文章可以使用的元素，并且提供强一致性的排版，为用户提供良好的阅读体验。自己在这方面投入过一段时间精力，但定制编辑器，研究排版等这一系列的工作都需要脱离出业务来专注的进行，目前还没有这样的条件，所以最终不得不因为业务开发而长期搁置了。非业务来说，各种工具，基础组件库等等优化开发体验及提高生产力的东西都是越早拥有越早受益的。

## 总结
把做得不好的做好，做得好的做得更好。
